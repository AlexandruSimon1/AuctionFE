{"ast":null,"code":"import { Auction } from './../../../models/auction';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/auction.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"./../../../services/category.service\";\nimport * as i4 from \"@angular/material/toolbar\";\nimport * as i5 from \"@angular/material/card\";\nimport * as i6 from \"@angular/material/form-field\";\nimport * as i7 from \"@angular/material/input\";\nimport * as i8 from \"@angular/forms\";\nimport * as i9 from \"@angular/material/select\";\nimport * as i10 from \"@angular/common\";\nimport * as i11 from \"@angular/material/core\";\n\nfunction CreateAuctionComponent_mat_option_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-option\", 8);\n    i0.ɵɵlistener(\"click\", function CreateAuctionComponent_mat_option_29_Template_mat_option_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const category_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.getCategoryById(category_r1.id);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const category_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", category_r1.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", category_r1.name, \" \");\n  }\n}\n\nexport let CreateAuctionComponent = /*#__PURE__*/(() => {\n  class CreateAuctionComponent {\n    constructor(auctionService, router, categoryService) {\n      this.auctionService = auctionService;\n      this.router = router;\n      this.categoryService = categoryService;\n      this.auction = new Auction();\n      this.submitted = false;\n    }\n\n    ngOnInit() {\n      this.getCategories();\n    }\n\n    getCategories() {\n      this.categoryService.getAllCategories().subscribe(data => this.categories = data, err => console.log(err));\n    }\n\n    getCategoryById(id) {\n      this.categoryService.getCategoryById(id).subscribe(data => this.category = data, err => console.log(err));\n      return this.category;\n    }\n\n    save() {\n      this.auction.category = this.category;\n      this.auctionService.createAuction(this.auction).subscribe(data => {\n        console.log(data);\n        this.auction = new Auction();\n        this.goToList();\n      }, error => console.log(error));\n    }\n\n    onSubmit() {\n      this.submitted = true;\n      this.save();\n    }\n\n    goToList() {\n      this.router.navigate(['']);\n    }\n\n  }\n\n  CreateAuctionComponent.ɵfac = function CreateAuctionComponent_Factory(t) {\n    return new (t || CreateAuctionComponent)(i0.ɵɵdirectiveInject(i1.AuctionService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.CategoryService));\n  };\n\n  CreateAuctionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CreateAuctionComponent,\n    selectors: [[\"app-create-auction\"]],\n    decls: 33,\n    vars: 5,\n    consts: [[1, \"my-card\"], [1, \"full-width\"], [\"matInput\", \"\", \"placeholder\", \"Title\", \"id\", \"title\", \"required\", \"\", \"name\", \"title\", 3, \"ngModel\", \"ngModelChange\"], [\"matInput\", \"\", \"placeholder\", \"Description\", \"id\", \"desription\", \"required\", \"\", \"name\", \"description\", 3, \"ngModel\", \"ngModelChange\"], [\"matInput\", \"\", \"placeholder\", \"Minimum Price\", \"id\", \"minimumPrice\", \"required\", \"\", \"name\", \"minimumPrice\", 3, \"ngModel\", \"ngModelChange\"], [\"matInput\", \"\", \"placeholder\", \"Buy Now Price\", \"id\", \"buyNow\", \"required\", \"\", \"name\", \"buyNow\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"click\"], [3, \"value\", \"click\"]],\n    template: function CreateAuctionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-toolbar\");\n        i0.ɵɵelementStart(1, \"span\");\n        i0.ɵɵtext(2, \"Create Auction\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"mat-card\", 0);\n        i0.ɵɵelementStart(4, \"mat-card-content\");\n        i0.ɵɵelementStart(5, \"mat-form-field\", 1);\n        i0.ɵɵelementStart(6, \"mat-label\");\n        i0.ɵɵtext(7, \"Title\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"input\", 2);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateAuctionComponent_Template_input_ngModelChange_8_listener($event) {\n          return ctx.auction.title = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(9, \"br\");\n        i0.ɵɵelementStart(10, \"mat-form-field\", 1);\n        i0.ɵɵelementStart(11, \"mat-label\");\n        i0.ɵɵtext(12, \"Description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"input\", 3);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateAuctionComponent_Template_input_ngModelChange_13_listener($event) {\n          return ctx.auction.description = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(14, \"br\");\n        i0.ɵɵelementStart(15, \"mat-form-field\", 1);\n        i0.ɵɵelementStart(16, \"mat-label\");\n        i0.ɵɵtext(17, \"Starting Bidding Price\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"input\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateAuctionComponent_Template_input_ngModelChange_18_listener($event) {\n          return ctx.auction.minimumPrice = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(19, \"br\");\n        i0.ɵɵelementStart(20, \"mat-form-field\", 1);\n        i0.ɵɵelementStart(21, \"mat-label\");\n        i0.ɵɵtext(22, \"Buy Now Price\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"input\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateAuctionComponent_Template_input_ngModelChange_23_listener($event) {\n          return ctx.auction.buyNow = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(24, \"br\");\n        i0.ɵɵelementStart(25, \"mat-form-field\");\n        i0.ɵɵelementStart(26, \"mat-label\");\n        i0.ɵɵtext(27, \"Categories\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"mat-select\");\n        i0.ɵɵtemplate(29, CreateAuctionComponent_mat_option_29_Template, 2, 2, \"mat-option\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(30, \"br\");\n        i0.ɵɵelementStart(31, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function CreateAuctionComponent_Template_button_click_31_listener() {\n          return ctx.save();\n        });\n        i0.ɵɵtext(32, \"Submit\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.auction.title);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.auction.description);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.auction.minimumPrice);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.auction.buyNow);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n      }\n    },\n    directives: [i4.MatToolbar, i5.MatCard, i5.MatCardContent, i6.MatFormField, i6.MatLabel, i7.MatInput, i8.DefaultValueAccessor, i8.RequiredValidator, i8.NgControlStatus, i8.NgModel, i9.MatSelect, i10.NgForOf, i11.MatOption],\n    styles: [\".menuCategory[_ngcontent-%COMP%]{white-space:pre-wrap;font-size:20px}.menuButton[_ngcontent-%COMP%]{white-space:pre-wrap;font-size:15px}\"]\n  });\n  return CreateAuctionComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}